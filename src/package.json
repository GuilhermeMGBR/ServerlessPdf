{
  "name": "serverless-pdf",
  "version": "1.0.0",
  "description": "",
  "main": "./app.js",
  "license": "MIT",
  "scripts": {
    "prepare": "cd .. && husky install",
    "format": "yarn base:prettier --write .",
    "format-check": "yarn base:prettier --check .",
    "lint": "eslint .",
    "type-check": "tsc --noEmit",
    "prebuild": "yarn dist:clear",
    "build": "yarn build:only",
    "build:only": "npx babel . --extensions '.ts,.tsx' --out-dir ../dist",
    "postbuild": "yarn dist:copy-function-files; yarn dist:install-modules",
    "prestart": "yarn build",
    "start": "yarn start:only",
    "start:only": "cd ../dist; func start",
    "test": "jest --verbose",
    "test:all": "INCLUDE_INTEGRATION_TESTS=true jest --verbose",
    "coverage": "jest --coverage",
    "sonar": "yarn coverage; yarn sonar:only",
    "sonar:only": "npx --yes sonarqube-scanner",
    "sonar-server:base": "docker run --detach --rm --publish 127.0.0.1:9000:9000 --name sonarqube-server sonarqube:lts-community",
    "sonar-server:start": "yarn sonar-server:base sonarqube:lts-community",
    "sonar-server:start-persistent": "yarn sonar-server:base --env-file ../.env.sonar-server.local sonarqube:lts-community",
    "watch:generic": "npx onchange '**/*' -e 'dist/**/*' --",
    "watch:format-check": "yarn wg yarn base:prettier --check .",
    "watch:format-check-onlyChanged": "yarn wg yarn base:prettier --check {{changed}}",
    "watch:lint": "yarn wg yarn eslint .",
    "watch:lint-onlyChanged": "yarn wg yarn eslint {{changed}}",
    "watch:type-check": "yarn type-check --watch",
    "watch:build": "yarn build --watch",
    "watch:test": "yarn test --watch",
    "watch:test-onlyChanged": "yarn test --watch --onlyChanged",
    "watch:test:all": "yarn test:all --watch",
    "watch:test:all-onlyChanged": "yarn test:all --watch --onlyChanged",
    "pre-commit": "yarn type-check && yarn lint && yarn format-check && yarn test:all",
    "f": "yarn format",
    "fc": "yarn format-check",
    "l": "yarn lint",
    "tc": "yarn type-check",
    "b": "yarn build",
    "bo": "yarn build:only",
    "s": "yarn start",
    "so": "yarn start:only",
    "t": "yarn test",
    "ta": "yarn test:all",
    "c": "yarn coverage",
    "sn": "yarn sonar",
    "sno": "yarn sonar:only",
    "ss": "yarn sonar-server:start",
    "ssp": "yarn sonar-server:start-persistent",
    "wg": "yarn watch:generic",
    "wfc": "yarn watch:format-check",
    "wfco": "yarn watch:format-check-onlyChanged",
    "wl": "yarn watch:lint",
    "wlo": "yarn watch:lint-onlyChanged",
    "wtc": "yarn watch:type-check",
    "wb": "yarn watch:build",
    "wt": "yarn watch:test",
    "wto": "yarn watch:test-onlyChanged",
    "wta": "yarn watch:test:all",
    "wtao": "yarn watch:test:all-onlyChanged",
    "pc": "yarn pre-commit",
    "dist:copy-function-files": "yarn dist:copy-function.json; cp host.json .funcignore package.json yarn.lock ../dist; cp local.settings.json ../dist || true;",
    "dist:copy-function.json": "find . -maxdepth 2 -name '*function.json' | xargs -I {} cp {} ../dist/{};",
    "dist:install-modules": "cd ../dist; yarn install --production",
    "dist:clear": "yarn clear-path ../dist",
    "clear-path": "rimraf",
    "base:prettier": "yarn prettier --ignore-path .gitignore '!coverage'"
  },
  "dependencies": {
    "@azure/functions": "^4.1.0",
    "@sparticuz/chromium": "^117.0.0",
    "puppeteer-core": "^21.3.1",
    "zod": "^3.22.2"
  },
  "devDependencies": {
    "@babel/cli": "^7.22.10",
    "@babel/core": "^7.22.20",
    "@babel/preset-env": "^7.22.20",
    "@babel/preset-typescript": "^7.22.11",
    "@types/jest": "^29.5.5",
    "@types/node": "18.x",
    "@typescript-eslint/eslint-plugin": "^6.7.2",
    "@typescript-eslint/parser": "^6.7.2",
    "babel-plugin-inline-json-import": "^0.3.2",
    "babel-plugin-module-resolver": "^5.0.0",
    "eslint": "^8.48.0",
    "husky": "^8.0.0",
    "jest": "^29.7.0",
    "jest-sonar-reporter": "^2.0.0",
    "prettier": "^3.0.2",
    "rimraf": "^5.0.1",
    "ts-jest": "^29.1.1",
    "ts-node": "^10.9.1",
    "typescript": "^5.2.2"
  },
  "prettier": {
    "arrowParens": "avoid",
    "bracketSameLine": true,
    "bracketSpacing": false,
    "singleQuote": true,
    "trailingComma": "all"
  },
  "jestSonar": {
    "reportPath": "../jest-reports",
    "reportFile": "test-report.xml",
    "indent": 2
  },
  "eslintConfig": {
    "env": {
      "browser": true,
      "es2021": true
    },
    "extends": [
      "eslint:recommended",
      "plugin:@typescript-eslint/recommended"
    ],
    "overrides": [],
    "parser": "@typescript-eslint/parser",
    "parserOptions": {
      "ecmaVersion": "latest",
      "sourceType": "module"
    },
    "plugins": [
      "@typescript-eslint"
    ]
  }
}
